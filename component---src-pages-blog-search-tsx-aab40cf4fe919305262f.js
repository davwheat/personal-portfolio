"use strict";(self.webpackChunkpersonal_portfolio=self.webpackChunkpersonal_portfolio||[]).push([[650],{4943:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var a,n=r(4942),l=r(1766),o=r(3889),i=r(9392),u=r(2925),s=r(726),c=r(6508),f=r(4236),d=r(2185),p=r(1931),m=r(9880),h=r(9289),g=r(2585);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=(0,d.Z)({list:(a={margin:0,padding:0,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:24},a[p.Z.between.desktopSmall.and.phone]={gridTemplateColumns:"repeat(2, 1fr)"},a[p.Z.upTo.tablet]={gridTemplateColumns:"1fr",gap:16},a),resultCount:{marginBottom:24}});function E(e){var t=e.data,r=e.location,a=t.fuseSearchIndex,n=w(),o=(0,l.useMemo)((function(){var e=h.Z.parseIndex(a.fuse.index);return new h.Z(a.fuse.documents,{keys:[{name:"title",weight:3},{name:"searchKeywords",weight:4}],ignoreLocation:!0,threshold:.4},e)}),[a]),d=(0,l.useState)({query:"",results:[]}),p=d[0],m=d[1];(0,l.useEffect)((function(){var e=new URLSearchParams(window.location.search.substring(1));m((function(t){return y(y({},t),{},{query:e.get("q")||t.query})}))}),[r]),(0,l.useEffect)((function(){if(p.query.trim()){var e=o.search(p.query.trim()).map((function(e){return e.item}));m((function(t){return y(y({},t),{},{results:e})}))}else m((function(e){return y(y({},e),{},{results:[]})}))}),[p.query,o]);var b=p.query,E=p.results;return l.default.createElement(i.Z,{location:r,title:"Search blog",description:"Search blog articles from David Wheatley."},l.default.createElement(u.Z,{firstElement:!0,color:f.tE},l.default.createElement("h1",{className:"text-shout"},"Search blog")),l.default.createElement(s.Z,{darker:!0,usePadding:!0},l.default.createElement(c.Z,{type:"search",label:"Search",placeholder:"Start typing...",onInput:function(e){return m((function(t){return y(y({},t),{},{query:e})}))}})),l.default.createElement(s.Z,{width:"wider"},l.default.createElement("p",{"aria-live":"polite",role:"status",className:(0,g.Z)("text-speak-up",n.resultCount)},E.length," ",1!==E.length?"results":"result"," found"),""===b.trim()&&l.default.createElement("p",{role:"status",className:"text-center text-loud"},"Please enter a search query."),l.default.createElement("ul",{"aria-live":"polite",className:n.list},E.map((function(e){return l.default.createElement(O,{key:e.id,title:e.title,path:"/blog/"+e.path})})))))}var v=(0,d.Z)({root:{width:"100%",height:"100%"},linkItem:{display:"flex",width:"100%",height:"100%",alignItems:"center",padding:"10px 18px",paddingRight:20,border:"1px solid currentColor",borderRadius:0,gap:8,transformOrigin:"center","&::after":y({content:'""',display:"block",width:"0.75em",height:"0.75em",minWidth:"0.75em",minHeight:"0.75em",borderTop:"2px solid currentColor",borderRight:"2px solid currentColor",transform:"rotate(45deg)"},(0,m.ZP)("transform")),"&:hover, &:focus, &:active":{"&::after":{transform:"translateX(3px) scaleY(0.92) scaleX(1.05) rotate(45deg)"}},"& span":{flexGrow:1,marginRight:4}}});function O(e){var t=e.title,r=e.path,a=v();return l.default.createElement("li",{className:a.root},l.default.createElement(o.Z,{role:"article",href:r,className:a.linkItem},l.default.createElement("span",null,t)))}}}]);
//# sourceMappingURL=component---src-pages-blog-search-tsx-aab40cf4fe919305262f.js.map